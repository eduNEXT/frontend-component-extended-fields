{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_ExtendedProfileContext","_TextField","_CheckboxField","_SelectField","_jsxRuntime","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","AccountFields","_ref","extendedProfileValues","extendedProfileFields","profileFieldErrors","editMode","formEditMode","editingInput","activeFieldName","handleChangeFormMode","setFormMode","handleSaveExtendedProfile","saveProfile","handleChangeSaveState","handleResetFormEdition","saveState","components","SwitchContent","useContext","ExtendedProfileFieldsContext","handleFormSubmit","fieldName","fieldValue","newFields","map","field","params","extendedProfile","error","console","jsx","children","find","el","name","commonProps","savingErrors","expression","type","cases","checkbox","text","select","propTypes","PropTypes","arrayOf","shape","string","isRequired","_default","exports"],"sources":["../../../src/extended-profile/account-fields/index.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ExtendedProfileFieldsContext from '../ExtendedProfileContext';\n\nimport TextField from './elements/TextField';\nimport CheckboxField from './elements/CheckboxField';\nimport SelectField from './elements/SelectField';\n\nconst AccountFields = ({ extendedProfileValues }) => {\n  const {\n    extendedProfileFields,\n    profileFieldErrors,\n    editMode: formEditMode,\n    editingInput: activeFieldName,\n    handleChangeFormMode: setFormMode,\n    handleSaveExtendedProfile: saveProfile,\n    handleChangeSaveState,\n    handleResetFormEdition,\n    saveState,\n    components: { SwitchContent },\n  } = useContext(ExtendedProfileFieldsContext);\n\n  const handleFormSubmit = async (fieldName, fieldValue) => {\n    handleChangeSaveState('pending');\n    const newFields = extendedProfileValues.map((field) => {\n      if (field.fieldName === fieldName) {\n        return { ...field, fieldValue };\n      }\n      return field;\n    });\n    try {\n      saveProfile({ params: { extendedProfile: newFields } });\n    } catch (error) {\n      console.error('Error saving profile field:', error);\n    } finally {\n      handleResetFormEdition();\n    }\n  };\n  return (\n    <div>\n      {extendedProfileFields?.map((field) => {\n        // extendedProfileValues comes from the user profile values\n        // here we are looking for the field value of each extended profile field\n        const value = extendedProfileValues?.find((el) => el.fieldName === field.name)?.fieldValue;\n\n        const commonProps = {\n          ...field,\n          value,\n          formEditMode,\n          activeFieldName,\n          setFormMode,\n          handleFormSubmit,\n          saveState,\n          savingErrors: profileFieldErrors,\n        };\n\n        return (\n          <SwitchContent\n            expression={field.type}\n            cases={{\n              checkbox: <CheckboxField {...commonProps} />,\n              text: <TextField {...commonProps} />,\n              select: <SelectField {...commonProps} />,\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nAccountFields.propTypes = {\n  extendedProfileValues: PropTypes.arrayOf(PropTypes.shape({\n    fieldName: PropTypes.string.isRequired,\n    fieldValue: PropTypes.string.isRequired,\n  })).isRequired,\n};\n\nexport default AccountFields;\n"],"mappings":"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","ignoreList":[]}